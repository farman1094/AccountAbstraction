
Farma@farman MINGW64 ~/OneDrive/Desktop/solidity/October/Account Abstraction (master)
$ forge script script/SendUserPackedUserOp.s.sol:SendUserPackedUserOp --rpc-url $SEPOLIA_RPC_URL --account user --broadcast -vvvvv
[⠢] Compiling...
[⠃] Compiling 3 files with Solc 0.8.26
[⠊] Solc 0.8.26 finished in 1.66s
Compiler run successful!
Enter keystore password:
Traces:
  [4221116] SendUserPackedUserOp::run()
    ├─ [3936119] → new HelperConfig@0xC7f2Cf4845C6db0e1a1e91ED41Bcd0FcC1b0E141
    │   └─ ← [Return] 19215 bytes of code
    ├─ [1297] HelperConfig::getConfig()
    │   └─ ← [Return] NetworkConfig({ entryPoint: 0xef5116bF4B6A157698c2aFF675349d01cAA27927, account: 0x701477467321474712bACA6779FE8926528B3c93, usdc: 0xD5457C30d3fA8DED4abD8bC4450c55D43aCEEe2F })
    ├─ [0] VM::getNonce(0x1d6630fca32021aB5068ab646AAc800934AdbC80) [staticcall]
    │   └─ ← [Return] 1
    ├─ [0] console::log("Coming....") [staticcall]
    │   └─ ← [Stop]
    ├─ [2066] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::getUserOpHash(PackedUserOperation({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, initCode: 0x, callData: 0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, accountGasLimits: 0x0000000000000000000000000100000000000000000000000000000001000000, preVerificationGas: 16777216 [1.677e7], gasFees: 0x0000000000000000000000000000010000000000000000000000000000000100, paymasterAndData: 0x, signature: 0x })) [staticcall]
    │   └─ ← [Return] 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17
    ├─ [0] console::log("....") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] VM::sign("<pk>", 0x4125b429d996f70e81e29b177f23264684812f20d1ee6d800c31491a26f8c624) [staticcall]
    │   └─ ← [Return] 28, 0x3722da2aeb1e45bc22c661479ce1a9057549ae10e4cda10587535d6e3fc84c98, 0x2409dd8883f27484abe3689d209fb1739593251e9bc69b46543ca593e1553ab4
    ├─ [0] VM::startBroadcast()
    │   └─ ← [Return]
    ├─ [151138] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::handleOps([PackedUserOperation({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, initCode: 0x, callData: 0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, accountGasLimits: 0x0000000000000000000000000100000000000000000000000000000001000000, preVerificationGas: 16777216 [1.677e7], gasFees: 0x0000000000000000000000000000010000000000000000000000000000000100, paymasterAndData: 0x, signature: 0x3722da2aeb1e45bc22c661479ce1a9057549ae10e4cda10587535d6e3fc84c982409dd8883f27484abe3689d209fb1739593251e9bc69b46543ca593e1553ab41c })], 0x701477467321474712bACA6779FE8926528B3c93)
    │   ├─ [37824] 0x1d6630fca32021aB5068ab646AAc800934AdbC80::validateUserOp(PackedUserOperation({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, initCode: 0x, callData: 0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, accountGasLimits: 0x0000000000000000000000000100000000000000000000000000000001000000, preVerificationGas: 16777216 [1.677e7], gasFees: 0x0000000000000000000000000000010000000000000000000000000000000100, paymasterAndData: 0x, signature: 0x3722da2aeb1e45bc22c661479ce1a9057549ae10e4cda10587535d6e3fc84c982409dd8883f27484abe3689d209fb1739593251e9bc69b46543ca593e1553ab41c }), 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17, 12884901888 [1.288e10])
    │   │   ├─ [3000] PRECOMPILES::ecrecover(0x4125b429d996f70e81e29b177f23264684812f20d1ee6d800c31491a26f8c624, 28, 24938785210064318676934899723850225066603067437330038054808529107753250606232, 16300693138971633359394131357961204376752043306838006547094053028561123883700) [staticcall]
    │   │   │   └─ ← [Return] 0x000000000000000000000000701477467321474712baca6779fe8926528b3c93
    │   │   ├─ [21893] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::fallback{value: 12884901888}()
    │   │   │   ├─ emit Deposited(account: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, totalDeposit: 12884901888 [1.288e10])
    │   │   │   └─ ← [Stop]
    │   │   └─ ← [Return] 0
    │   ├─ emit BeforeExecution()
    │   ├─ [65861] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::innerHandleOp(0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, UserOpInfo({ mUserOp: MemoryUserOp({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, verificationGasLimit: 16777216 [1.677e7], callGasLimit: 16777216 [1.677e7], paymasterVerificationGasLimit: 0, paymasterPostOpGasLimit: 0, preVerificationGas: 16777216 [1.677e7], paymaster: 0x0000000000000000000000000000000000000000, maxFeePerGas: 256, maxPriorityFeePerGas: 256 }), userOpHash: 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17, prefund: 12884901888 [1.288e10], contextOffset: 96, preOpGas: 16845637 [1.684e7] }), 0x)
    │   │   ├─ [39320] 0x1d6630fca32021aB5068ab646AAc800934AdbC80::execute(0xD5457C30d3fA8DED4abD8bC4450c55D43aCEEe2F, 0, 0x23b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f40000)
    │   │   │   ├─ [35666] 0xD5457C30d3fA8DED4abD8bC4450c55D43aCEEe2F::transferFrom(0x701477467321474712bACA6779FE8926528B3c93, 0x264F7948c23da2233D3458F1B4e2554f0e56c9Ca, 5000000000000000000 [5e18])
    │   │   │   │   ├─ emit Transfer(from: 0x701477467321474712bACA6779FE8926528B3c93, to: 0x264F7948c23da2233D3458F1B4e2554f0e56c9Ca, value: 5000000000000000000 [5e18])
    │   │   │   │   └─ ← [Return] true
    │   │   │   └─ ← [Stop]
    │   │   ├─ emit UserOperationEvent(userOpHash: 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17, sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, paymaster: 0x0000000000000000000000000000000000000000, nonce: 0, success: true, actualGasCost: 4751174144 [4.751e9], actualGasUsed: 18559274 [1.855e7])
    │   │   └─ ← [Return] 4751174144 [4.751e9]
    │   ├─ [0] 0x701477467321474712bACA6779FE8926528B3c93::fallback{value: 4751174144}()
    │   │   └─ ← [Stop]
    │   └─ ← [Stop]
    ├─ [0] VM::stopBroadcast()
    │   └─ ← [Return]
    └─ ← [Stop]


Script ran successfully.

== Logs ==
  Coming....
  ....

## Setting up 1 EVM.
==========================
Simulated On-chain Traces:

  [153638] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::handleOps([PackedUserOperation({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, initCode: 0x, callData: 0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, accountGasLimits: 0x0000000000000000000000000100000000000000000000000000000001000000, preVerificationGas: 16777216 [1.677e7], gasFees: 0x0000000000000000000000000000010000000000000000000000000000000100, paymasterAndData: 0x, signature: 0x3722da2aeb1e45bc22c661479ce1a9057549ae10e4cda10587535d6e3fc84c982409dd8883f27484abe3689d209fb1739593251e9bc69b46543ca593e1553ab41c })], 0x701477467321474712bACA6779FE8926528B3c93)
    ├─ [37824] 0x1d6630fca32021aB5068ab646AAc800934AdbC80::validateUserOp(PackedUserOperation({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, initCode: 0x, callData: 0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, accountGasLimits: 0x0000000000000000000000000100000000000000000000000000000001000000, preVerificationGas: 16777216 [1.677e7], gasFees: 0x0000000000000000000000000000010000000000000000000000000000000100, paymasterAndData: 0x, signature: 0x3722da2aeb1e45bc22c661479ce1a9057549ae10e4cda10587535d6e3fc84c982409dd8883f27484abe3689d209fb1739593251e9bc69b46543ca593e1553ab41c }), 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17, 12884901888 [1.288e10])
    │   ├─ [3000] PRECOMPILES::ecrecover(0x4125b429d996f70e81e29b177f23264684812f20d1ee6d800c31491a26f8c624, 28, 24938785210064318676934899723850225066603067437330038054808529107753250606232, 16300693138971633359394131357961204376752043306838006547094053028561123883700) [staticcall]
    │   │   └─ ← [Return] 0x000000000000000000000000701477467321474712baca6779fe8926528b3c93
    │   ├─ [21893] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::fallback{value: 12884901888}()
    │   │   ├─ emit Deposited(account: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, totalDeposit: 12884901888 [1.288e10])
    │   │   └─ ← [Stop]
    │   └─ ← [Return] 0
    ├─ emit BeforeExecution()
    ├─ [65861] 0xef5116bF4B6A157698c2aFF675349d01cAA27927::innerHandleOp(0xb61d27f6000000000000000000000000d5457c30d3fa8ded4abd8bc4450c55d43aceee2f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006423b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000, UserOpInfo({ mUserOp: MemoryUserOp({ sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, nonce: 0, verificationGasLimit: 16777216 [1.677e7], callGasLimit: 16777216 [1.677e7], paymasterVerificationGasLimit: 0, paymasterPostOpGasLimit: 0, preVerificationGas: 16777216 [1.677e7], paymaster: 0x0000000000000000000000000000000000000000, maxFeePerGas: 256, maxPriorityFeePerGas: 256 }), userOpHash: 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17, prefund: 12884901888 [1.288e10], contextOffset: 96, preOpGas: 16848137 [1.684e7] }), 0x)
    │   ├─ [39320] 0x1d6630fca32021aB5068ab646AAc800934AdbC80::execute(0xD5457C30d3fA8DED4abD8bC4450c55D43aCEEe2F, 0, 0x23b872dd000000000000000000000000701477467321474712baca6779fe8926528b3c93000000000000000000000000264f7948c23da2233d3458f1b4e2554f0e56c9ca0000000000000000000000000000000000000000000000004563918244f40000)
    │   │   ├─ [35666] 0xD5457C30d3fA8DED4abD8bC4450c55D43aCEEe2F::transferFrom(0x701477467321474712bACA6779FE8926528B3c93, 0x264F7948c23da2233D3458F1B4e2554f0e56c9Ca, 5000000000000000000 [5e18])
    │   │   │   ├─ emit Transfer(from: 0x701477467321474712bACA6779FE8926528B3c93, to: 0x264F7948c23da2233D3458F1B4e2554f0e56c9Ca, value: 5000000000000000000 [5e18])
    │   │   │   └─ ← [Return] true
    │   │   └─ ← [Stop]
    │   ├─ emit UserOperationEvent(userOpHash: 0x6022b8294eddc771a4411ae791f1dbba24e2449e3079a84f00b89b8b66ef1b17, sender: 0x1d6630fca32021aB5068ab646AAc800934AdbC80, paymaster: 0x0000000000000000000000000000000000000000, nonce: 0, success: true, actualGasCost: 4751814144 [4.751e9], actualGasUsed: 18561774 [1.856e7])
    │   └─ ← [Return] 4751814144 [4.751e9]
    ├─ [0] 0x701477467321474712bACA6779FE8926528B3c93::fallback{value: 4751814144}()
    │   └─ ← [Stop]
    └─ ← [Stop]


==========================

Chain 11155111

Estimated gas price: 9.646458145 gwei

Estimated total gas used for script: 224221

Estimated amount required: 0.002162938491730045 ETH

==========================

##### sepolia
❌  [Failed]Hash: 0xca3e6d00ae57f4d89310b661cca8d275890b35d5478cce13f6cd909db9fb0ef7
Block: 6902869
Paid: 0.000517466418679056 ETH (109974 gas * 4.705352344 gwei)

                                                                                                                                                                                                                                                                      
Transactions saved to: C:/Users/Farma/OneDrive/Desktop/solidity/October/Account Abstraction/broadcast\SendUserPackedUserOp.s.sol\11155111\run-latest.json                                                                                                             

Sensitive values saved to: C:/Users/Farma/OneDrive/Desktop/solidity/October/Account Abstraction/cache\SendUserPackedUserOp.s.sol\11155111\run-latest.json

Error:
Transaction Failure: 0xca3e6d00ae57f4d89310b661cca8d275890b35d5478cce13f6cd909db9fb0ef7